# C1: Research Computing (CW Assignment) - sudokusolver
## Table of Contents
1. [Run `sudokusolver`](#run)
2. [Documentation](#docs)
3. [Tests](#tests)
4. [Report](#report)

## <a name="run"></a> 1. Run `sudokusolver`
Clone the repository and then run
```bash
make run
```
in your terminal, within the root of this repo.

This will
1. Build the Docker image using the [Dockerfile](Dockerfile).
2. Run the Docker image, and mount `/sudokusolver/inputs`,  `/sudokusolver/outputs`, `/docs/build` as volumes on the
container, mapped to the same directories on your local machine. The [input.txt](sudokusolver/inputs/input.txt) required for the coursework
is already in the `inputs` directory.
3. Open an interactive terminal in the Docker container.

Then run
```bash
conda activate as3438_c1cw
```
to activate the conda environment, and then
```bash
python -m sudokusolver sudokusolver/inputs/input.txt
```
to run the solver on the input file. This will output the result to `sudokusolver/outputs/output1.txt`. This directory
is mounted, so the output file will also be in the `outputs` directory on your local machine.

To run the solver on different input files, add them to the `sudokusolver/inputs` directory and then run
```bash
python -m sudokusolver sudokusolver/inputs/<filename>.txt
```
replacing `<filename>` with the name of the file you want to run the solver on. The solver will then output the result to
`sudokusolver/outputs/output<X>.txt`, with `<X>` being the next available integer.

Unsolvable sudokus will not save an output to `sudokusolver/outputs/`. A message will be printed to the terminal indicating
that the sudoku is unsolvable.

Invalid sudokus also will not save an output to `sudokusolver/outputs/`. Instead, the relevant error will be raised by the
program. You will know that the error was raised by `sudokusolver` as the error message will be prefixed with the package
name, for example:

```
ValueError: (sudokusolver) Input file does not contain 9 rows of numbers. Please check the input file contains 9 rows of numbers, and is formatted correctly.
```

You can remove the container and image after you are done with them by running
```bash
make clean  # this will remove the container
make clean-image  # this will remove the image
```

## <a name="docs"></a> 2. Documentation
The documentation is generated by sphinx. To view the documentation for `sudokusolver`, whilst in the Docker container
run
```bash
cd docs
make html
```
And then open `docs/build/html/index.html` in your browser.

The `docs/build` folder on the container is mounted also mounted, so the docs will appear on your local machine so you
can open them in your browser from there.

## <a name="tests"></a> 3. Tests
Whilst in the root folder of the repository, in the container, run
```bash
pytest
```
to run the tests.

## <a name="report"></a> 4. Report
The report is located at [report/out/main.pdf](report/out/main.pdf).
